c #include <stdlib.h>
c #include <stdio.h>

extend
@macro
def mulmulmul(l):
	"***"
	o('printf("*** BYE ***\\n");')
	return l
end

extend
@regpass
def testpass():
	print("TESTPASS!")
	for i in range(len(source)):
		if 'test test pass' in source[i]:
			source[i]='nop nop\n'
end

test test pass


cdef exit exit(0);
cdef print printf("%lu\n",lang_internal_pop());

printp planet@x print

set 1 + dup planet!x

breakstack 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5

main 0 planet.rep set planet.rep printp test -1 print *** breakstack exit

extend
"""printp2 @[planet x] print"""
"""main1 0 rep[planet set] rep[planet printp2] test -1 print *** breakstack exit"""
end

test 0 drop

c void main(void) { lang_main(); }

data planet 128 x:int32_t y z radius name
